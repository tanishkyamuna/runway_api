{"version":3,"file":"AdminLogin-P55pj1s9.js","sources":["../../src/components/AdminLogin.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from '../lib/supabase';\nimport toast from 'react-hot-toast';\nimport { Mail, Lock, ToggleLeft as Google } from 'lucide-react';\n\nconst AdminLogin = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleEmailLogin = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    \n    try {\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password\n      });\n\n      if (error) throw error;\n\n      // Check if user is admin\n      const { data: adminData, error: adminError } = await supabase\n        .from('admins')\n        .select()\n        .eq('id', data.user.id)\n        .single();\n\n      if (adminError || !adminData) {\n        await supabase.auth.signOut();\n        throw new Error('Unauthorized access');\n      }\n\n      toast.success('Welcome back!');\n      navigate('/admin');\n    } catch (error) {\n      toast.error(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    try {\n      const { error } = await supabase.auth.signInWithOAuth({\n        provider: 'google',\n        options: {\n          redirectTo: `${window.location.origin}/admin`\n        }\n      });\n\n      if (error) throw error;\n    } catch (error) {\n      toast.error('Failed to sign in with Google');\n      console.error('Google sign in error:', error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n      <div className=\"bg-white p-8 rounded-lg shadow-lg max-w-md w-full\">\n        <h1 className=\"text-2xl font-bold mb-6 text-center\">Sign In</h1>\n        \n        {/* Google Sign In Button */}\n        <button\n          onClick={handleGoogleLogin}\n          className=\"w-full bg-white border border-gray-300 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-50 transition-colors mb-6 flex items-center justify-center gap-2\"\n        >\n          <Google className=\"w-5 h-5\" />\n          Sign in with Google\n        </button>\n\n        <div className=\"relative my-6\">\n          <div className=\"absolute inset-0 flex items-center\">\n            <div className=\"w-full border-t border-gray-300\"></div>\n          </div>\n          <div className=\"relative flex justify-center text-sm\">\n            <span className=\"px-2 bg-white text-gray-500\">Or continue with</span>\n          </div>\n        </div>\n\n        <form onSubmit={handleEmailLogin} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Email\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\n                required\n              />\n              <Mail className=\"w-5 h-5 text-gray-400 absolute left-3 top-2.5\" />\n            </div>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Password\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\n                required\n              />\n              <Lock className=\"w-5 h-5 text-gray-400 absolute left-3 top-2.5\" />\n            </div>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\n          >\n            {isLoading ? 'Signing in...' : 'Sign In with Email'}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminLogin;"],"names":["AdminLogin","email","setEmail","useState","password","setPassword","isLoading","setIsLoading","navigate","useNavigate","handleEmailLogin","e","data","error","supabase","adminData","adminError","toast","handleGoogleLogin","jsxs","jsx","Google","Mail","Lock"],"mappings":"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"}