import{j as e,s as a}from"./index-CZWYOJc5.js";import{r,u as p}from"./vendor-C93i42Td.js";import{u as w,a as y,v as j,k as i}from"./ui-DKXepuIc.js";const S=()=>{const[l,u]=r.useState(""),[n,m]=r.useState(""),[o,c]=r.useState(!1),g=p(),h=async s=>{s.preventDefault(),c(!0);try{const{data:t,error:d}=await a.auth.signInWithPassword({email:l,password:n});if(d)throw d;const{data:b,error:f}=await a.from("admins").select().eq("id",t.user.id).single();if(f||!b)throw await a.auth.signOut(),new Error("Unauthorized access");i.success("Welcome back!"),g("/admin")}catch(t){i.error(t.message)}finally{c(!1)}},x=async()=>{try{const{error:s}=await a.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/admin`}});if(s)throw s}catch(s){i.error("Failed to sign in with Google"),console.error("Google sign in error:",s)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Sign In"}),e.jsxs("button",{onClick:x,className:"w-full bg-white border border-gray-300 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-50 transition-colors mb-6 flex items-center justify-center gap-2",children:[e.jsx(w,{className:"w-5 h-5"}),"Sign in with Google"]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",value:l,onChange:s=>u(s.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0}),e.jsx(y,{className:"w-5 h-5 text-gray-400 absolute left-3 top-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",value:n,onChange:s=>m(s.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",required:!0}),e.jsx(j,{className:"w-5 h-5 text-gray-400 absolute left-3 top-2.5"})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:o?"Signing in...":"Sign In with Email"})]})]})})};export{S as default};
//# sourceMappingURL=AdminLogin-P55pj1s9.js.map
